# BETYdb Bulk Upload

BETYdb is a platform that's used by all TERRA projects to centralize data from research that's done on the project. Uploading data to BETYdb will allow everyone on the team has access research done on the TERRA project. 

1. Go to the [**BETYdb**](https://terraref.ncsa.illinois.edu/bety/) homepage. 
1. Create an account.
1. Understand how the database is organized so your data can be searchable.  Do this by exploring the data using the Data Tab
.


####Exploring the data:
The Data tab has a lot of features that allow you to search the database through different types of data. The Data tab allows new data of your own to upload if what you search for isn't already uploaded. 

Scroll down on the **data tab** and click on **citations**. A page with a list of citations that are already uploaded into the system appears. 

Citations go by the **first authors last name**.  (For example a Journal article written by Andrew Davis and Kerri Shaw would have the name "Davis" in the author slot.) 

Use the search menu located in the top right corner of each page to search for citations by Author, Year, Title, Journal, Vol, Page, or URL.

This is also the case for any other tab.(For example in the cultivars tab you can search cultivars in the system by searching for them by any factors it is organized.) 
 Keep in mind that when clicking on a new tab (such as cultivars) the database will show all the cultivars of the citations it has on file. 

####Before the Bulk Upload:

1. Determine if a citation for your data already exists. 
Search for your citation and if it doesn't already exist in the system then create a new citation. Make sure to fill in all the required data.( Author, Year, Title, Journal, Vulome, Pg., Doi)

1. Verify that all your sites on your excel sheet are also on the sites page, and spelled the same on both. Go to the **Data** tab and click on the **Sites**. If any of your sites are not already in the system, you will need to create a new one. 

1. Verify that all your variables match what the system has for variables (e.g.site name, LAI, traits, variables).  Go to the **Data** tab and click on the **Variables**. If any of your vaiables are not already in the system, you will need to create a new one. 

1. Once all of your data is corrected, click on the **Bulk Upload** tab. 


# Bulk Upload 

Once you have entered all the necessary data to prepare for a bulk upload, you can then begin the bulk upload process. 

There are some key rules for bulk uploading:

1. There are 3 different spreadsheet templates to choose from.
  * [yields.csv](https://docs.google.com/spreadsheets/d/1maK1uKr6i9KERaYdU5zSiXcBndQoiG4Vgn2DTnqdfbA/export?format=csv&gid=0)
  * [yields\_by\_doi.csv](https://docs.google.com/spreadsheets/d/1ExLosMvX05jHWO9UYVE4Dxcl2ZbUgPc0KYoUPruaOtM/export?format=csv&gid=0)
  * [traits.csv](https://docs.google.com/spreadsheets/d/1TK-u-m4SG1KupYCVDUIye1C3zX8b1xgaYIG1fHNkYjs/export?format=csv&gid=0)
2. It is important that text values and column names in the spreadsheet match records in the database. This includes variable names, site names, species and cultivar names, etc.
3. Pick the template that best matches your data set and organize the data in the excel sheet to include all the required info. 
4. Organize the data in the proper order and bulk upload.


Sometimes there are issues that arise when trying to bulk upload. It is important to read what the system is telling you the problem is and fix the problem. 

One of the most common errors is improper column name in the excel sheet that doesn't match what the system has for that variable. Another frequently made mistake is that the data for the variables in the excel sheet is out of range for that variable. If this happens double check the data and request to have the range in the database adjusted for that variable. 

After the data is bulk uploaded into the system, it will ask for some basic data relating to the data set. It will ask you location, date data uploaded, and treatments. Once this information is fill out, the bulk upload is complete.

